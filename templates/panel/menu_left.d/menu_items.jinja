{%- from "lib/left_menu_style.jinja" import menu_bar_styles with context %}
{%- set catagory_style = menu_bar_styles.get( "menu_catagory" , {} ) %}
{%- set plugin_style = menu_bar_styles.get( "menu_plugins" , {} ) %}
{%- for catagory , plugins in left_menu.items() %}
{%-     set catagory_id = "%s_%s" | format( panel_id , catagory ) %}
    <button type="button" id="{{ catagory_id }}" class="menu_catagory">{{ catagory }}</button>
    <div id="{{ catagory_id }}" class="menu_plugins" style="display: block">
{%-     for plugin , yaml_file in plugins.items() %}
{%-         set plugin_id = "%s_%s" | format( catagory_id , plugin ) %}
{{plugin_id}}: {{plugin}} - {{yaml_file}}<br>
{%-     endfor %}
    </div>
    <br>
{%- endfor %}


{#- Scripts #}
<script>
{#- Scripts for set menu item style #}
{%-     for class_name , style in menu_bar_styles.items() %}
{%-         for attribute , value in style.items() %}
for( const element of menu_item ){
    element.style.{{ attribute }} = "{{ value }}";
}
{%-         endfor %}
{%-     endfor %}
{#- Script for menu item collapsing #}
var col = document.getElementsByClassName( "menu_catagory" );
var item;
for ( item = 0 ; item < col.length ; item++ ){
    col[ item ].addEventListener( "click" , function(){
        this.classList.toggle( "active" );
        var content = this.nextElementSibling;
        if( content.style.display === "block" ){
            content.style.display = "none";
        } else {
            content.style.display = "block";
        }
    });
}
</script>